[toc]

## 概述

### 1. 计算机网络体系分层

![avatar](网络分层体系.jpg)

**1. 五层协议**

- **应用层**：为<font color=blue>应用程序</font>提供数据传输服务， 数据单位为<font color=blue>报文</font>，例如 HTTP、FTP等
- **传输层**：为<font color=blue>进程</font>提供数据传输服务，主要有 TCP 和 UDP 协议， TCP 数据单位为<font color=blue>报文段</font>， UDP数据单位为<font color=blue>用户数据报</font>
- **网络层**：为<font color=blue>主机</font>提供数据传输服务，IP 协议位于该层，数据单位为<font color=blue>分组/IP 数据报</font>
- **数据链路层**：为<font color=blue>同一链路的主机</font>提供数据传输服务，数据单位为<font color=blue>帧</font>
- **物理层**：实现传输数据比特流

路由器拥有下面三层协议，主要工作是进行<font color=blue>分组交换</font>

**2. OSI**

- **表示层**：数据压缩、解密、描述，屏蔽主机中数据内部格式不同的问题
- **会话层**：建立、管理会话

该标准并未被使用

**3. TCP/IP**

TCP/IP 将五层协议中的数据链路层和物理层合并为网络接口层

### 2. 网络性能指标

**1. 速率**

数字信道上传送数据的速率，也称为**数据率**或**比特率**，单位是 bit/s，就是平时所说的网速

**2. 带宽**

单位时间的<font color=blue>最高数据率</font>，单位是 bit/s

**3. 吞吐量**

单位时间内通过网络的数据量，用以对网络的测量

**4. 时延**

- **发送时延**：主机或者路由器**发送数据帧**的时间，类似子弹点火出膛，光纤主要作用是降低发送时延
- **传播时延**：电磁波**在信道中传播**到对方主机需要的时间，子弹在空中运动
- **处理时延**：主机或路由器处理分组的时延
- **排队时延**：分组在路由器的输入队列、输出队列的等待时间

**5. 往返时间 RTT**

从发送方发送数据到接收到确认的时间



## 物理层

### 1.通信方式

单工、半双工、全双工通信

###  2. 信道极限容量

- 奈奎斯特准则：码元传输速率的上限是信道带宽的一半
- 香农公式：信道的极限信息传输速率 C 为

$$
C = W log_2(1 + S/N)
$$

​	其中 W 为信道带宽，S/N 为信道信噪比

### 3. 宽带接入方式

- ADSL：非对称数字用户线。直接改造电话线，下载带宽比上传带宽高很多(非对称)
- HFC：光纤同轴混合网，基于有线电视网开发
- FTTx：光纤到 x 技术



## 数据链路层

### 1. 信道类型及其协议

- 点对点信道，采用 PPP 协议

- 广播信道，采用 CSMA/CD 协议

### 2. 三个基本问题

- 封装成帧：将网络层传下来的分组添加帧头、帧尾
- 透明传输：数据部分出现帧头、帧尾部分采用**转义字符 **(类似 C++ 的 '\\')
- 差错检测：采用 CRC (循环冗余检验)检查比特差错

### 3. 概念

- MTU：最大传送单元，帧数据部分的长度上限

- 环回接口：允许同一台主机的客户端与服务器通信，IP 地址为127.0.0.1

- 集线器：工作在物理层，简单转发比特，不会增加吞吐量

- 网桥：工作在数据链路层，转发 MAC 帧，可以增加吞吐量

- MAC 地址：硬件地址，固化在电脑 ROM 中；笔记本支持无线与有线，因此有多个 MAC 地址

  下图为以太网 V2的 MAC帧格式

![avatar](MAC帧格式.jpg)

以太网 V2 版本 MAC 帧中不包含长度，因为传输采用曼彻斯特编码，当电压无变化时，即代表传输结束

