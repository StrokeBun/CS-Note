## 重构

#### 1. 坏代码

- 重复代码
- 过长函数
- 过大的类
- 过长的参数
- 高耦合
- 过多 switch/ if else
- 过分的未来拓展性
- 同功能不同名的函数
- 过多注释

#### 2. 重构函数

- 提取并封装函数

- 内联临时变量

  ``` java
  double basePrice = anOrder.basePrice();
  return basePrice > 1000;
  
  // 对临时变量进行内联
  return anOrder.basePrice() > 1000;
  ```

- 引入解释性变量

  ``` java
  if (platform.toUpperCase().indexOf("MAC") > -1 &&
      browser.toUpperCase().indexOf("IE") > -1 &&
      wasInitialized()) {
      // do something
  }
  
  // 引入解释性变量后
  final boolean isMacOs = platform.toUpperCase().indexOf("MAC") > -1;
  final boolean isIEbrowser = browser.toUpperCase().indexOf("IE") > -1;
  if (isMacOs && isIEbrowser && wasInitialized()) {
      // do something
  }
  ```

- 用函数对象封装大函数